<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Enhancement Tool</title>
    <link rel="stylesheet" href="styles.css">

    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js";
      // TODO: Add SDKs for Firebase products that you want to use
      // https://firebase.google.com/docs/web/setup#available-libraries
    
      import {
            getAuth,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            onAuthStateChanged,
            signOut
        //Update the below URL with the appropriate version if necessary.
        } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";

      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      const firebaseConfig = {
        apiKey: "AIzaSyCtEceXO0VbyGgKYr18wMEW6ta8LpS3dPQ",
        authDomain: "comp1004-a5199.firebaseapp.com",
        projectId: "comp1004-a5199",
        storageBucket: "comp1004-a5199.appspot.com",
        messagingSenderId: "348763445507",
        appId: "1:348763445507:web:5363396b4926394ca83136",
        measurementId: "G-G973F3C7X9"
      };
    
      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
      const auth = getAuth(app);

      const signInEmail = document.getElementById("login-email");
      const signInPassword = document.getElementById("login-password");

      const signUpEmail = document.getElementById("signup-email");
      const signUpPassword = document.getElementById("signup-password");

      const signUpButton = document.getElementById("signUp");
      const signInButton = document.getElementById("signIn");

      const userSignUp = async() => {
            createUserWithEmailAndPassword(auth, signUpEmail, signUpPassword)
            .then((userCredential) => {
                const user = userCredential.user;
                console.log(user);
                alert("Your account has been created!");
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorCode + errorMessage)
            })
        }

        const userSignIn = async() => {
            signInWithEmailAndPassword(auth, signInEmail, signInPassword)
            .then((userCredential) => {
                const user = userCredential.user;
                alert("You have signed in successfully!");
            })
            .catch((error) => {
                const errorCode = error.code;
                const errorMessage = error.message;
                console.log(errorCode + errorMessage)
            })
        }

    </script>


    <script src="https://js.bytescale.com/sdk/v3"></script>
    <script type="module" src="uiManager.js" defer></script>
    

</head>
<body>

  <div id="auth-overlay" class="auth-overlay">
    <div class="auth-container">
      <div id="login-form" class="auth-form">
        <h2>Login</h2>
        <input type="email" id= "login-email" placeholder="Email" required>
        <input type="password" id= "login-password" placeholder="Password" required>
        <button id="signIn">Login</button>
        <p>Don't have an account? <span onclick="toggleForms()">Sign up</span></p> <br>
        <span onclick="toggleForms()">Continue as Guest</span>
      </div>
      <div id="signup-form" class="auth-form" style="display:none;">
        <h2>Signup</h2>
        <input type="text" id= "signup-name" placeholder="Name" required>
        <input type="email" id= "signup-email" placeholder="Email" required>
        <input type="password" id= "signup-password" placeholder="Password" required>
        <button id="signUp">Signup</button>
        <p>Already have an account? <span onclick="toggleForms()">Login</span></p>
        <span onclick="toggleForms()">Continue as Guest</span>
      </div>
    </div>
  </div>
  
    <nav class="top-nav">
        <a href="#home-section" class="nav-link active">Home</a>
        <a href="#Convert-to-section" class="nav-link">Convert to</a>
        <a href="#AI-Enhance-section" class="nav-link">AI Enhance</a>
        <a href="#convert-to-section" class="nav-link">placeholder</a>
    </nav>

    <!-- Home Section -->
    <div id="home-section" class="container">
        <h1>Welcome to Image Enhancer</h1>
        <p class="subtitle">The one-stop solution for all your image processing needs.</p>
        <button id="start-enhancing" class="button-style">Start Enhancing</button>
    </div>

    <!-- Loading Indicator -->
    <div id="loadingIndicator" class="loading-indicator hidden">
        <div class="spinner"></div>
        <p>Processing...</p>
    </div>


    <!-- Enhance Image Section (Initially hidden) -->
<section id="Convert-to-section" class="container hidden">
    <h1>switch Image Format</h1>
    <p class="subtitle">change your image file format without quality loss with our enhancement tool.</p>
    <input type="file" id="enhance-file-input" hidden>
    <button id="enhance-images" class="button-style">Select images to reformat</button>
    <div id="drop-area" class="drop-text">or drop images here</div>
</section>

 <!-- Enhancement Options -->
<div id="enhance-options" class="container hidden">
    <div class="image-preview-container">
        <img id="image-preview" src="#" alt="Selected Image" />
    </div>
    
    <!-- Quality Slider -->
<div class="quality-control">
    <label for="qualitySlider">Quality: <span id="qualityValue">50</span></label>
    <input type="range" id="qualitySlider" min="1" max="100" value="50" class="slider">
</div>

<!-- Download Options -->
<div class="download-controls">
    <select id="downloadFormat" title="Select Download Format">
        <option value="bmp">BMP</option>
        <option value="heic">HEIC</option>
        <option value="heif">HEIF</option>
        <option value="jfif">JFIF</option>
        <option value="jp2">JP2</option>
        <option value="jpeg">JPEG</option>
        <option value="jpf">JPF</option>
        <option value="png">PNG</option>
        <option value="raw">RAW</option>
        <option value="svg">SVG</option>
        <option value="gif">GIF</option>
    </select>
    <button id="downloadBtn" class="Small-button-style">Download</button>
</div>
</div>


<!-- AI Enhance Section -->
<section id="AI-Enhance-section" class="container hidden ">
    <h1>AI Image Enhancement</h1>
    <p class="subtitle">See the difference AI enhancement makes.</p>
    <input type="file" id="ai-enhance-file-input" hidden>
    <button id="ai-enhance-upload" class="button-style">Upload Image</button>
    </div>



<!-- Comparison Container -->
<div id="ai-enhancer-controls" class="slider-container" style="display: none;">

    <div class="Image-container">
        <!-- This will be the uploaded image -->
        <img id= "image-before" class="image-before slider-image" src="" alt="Before Enhancement">

        <!-- This will be the AI-enhanced image -->
        <img id="image-after" class="image-after slider-image" src="" alt="After Enhancement">
    </div>

    <input
          type="range"
          min="0"
          max="100"
          value="50"
          aria-label="Percentage of before photo shown"
          class="Comparison-Slider"
        />
    

        <div class="slider-line" aria-hidden="true"></div>
        <div class="slider-button" aria-hidden="true">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            fill="currentColor"
            viewBox="0 0 256 256"
          >
            <rect width="256" height="256" fill="none"></rect>
            <line
              x1="128"
              y1="40"
              x2="128"
              y2="216"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="16"
            ></line>
            <line
              x1="96"
              y1="128"
              x2="16"
              y2="128"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="16"
            ></line>
            <polyline
              points="48 160 16 128 48 96"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="16"
            ></polyline>
            <line
              x1="160"
              y1="128"
              x2="240"
              y2="128"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="16"
            ></line>
            <polyline
              points="208 96 240 128 208 160"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="16"
            ></polyline>
          </svg>
        </div>
      </div>

      <div class="flex-container">
    <div class="options-container">
        <!-- Upscale Options -->
        <div class="upscale-controls" style="display: none;">
            <button id="upscaleBtn" class="Small-button-style">Upscale Image</button>
            <button id="ai-download-upscaled-btn" class="Small-button-style">Download</button>
    </div>
        </div>
        
       

    


    </div>
</div>

    
    </section>
  

</body>
</html>
